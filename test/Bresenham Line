import matplotlib.pyplot as plt

def plot_line(x1, y1, x2, y2):
    x_points = []
    y_points = []

    dx = abs(x2 - x1)
    dy = abs(y2 - y1)
    sx = 1 if x2 >= x1 else -1
    sy = 1 if y2 >= y1 else -1

    x, y = x1, y1

    if dx > dy:
        d  = 2*dy - dx
        dE = 2*dy
        dNE = 2*(dy - dx)
        for _ in range(dx):
            x_points.append(x)
            y_points.append(y)
            if d <= 0:
                d += dE
            else:
                d += dNE
                y += sy
            x += sx
    else:
        d  = 2*dx - dy
        dN = 2*dx
        dNE = 2*(dx - dy)
        for _ in range(dy):
            x_points.append(x)
            y_points.append(y)
            if d <= 0:
                d += dN
            else:
                d += dNE
                x += sx
            y += sy

    plt.plot(x_points, y_points, marker='o')
    plt.title("All Octants - Bresenham's")
    plt.grid(True)
    plt.xlabel("X")
    plt.ylabel("Y")
    plt.show()

# Example
plot_line(0, 0, -5, 7)
